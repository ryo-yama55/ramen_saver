# ラーメン貯金 - デザインブリーフ

## プロジェクト概要

### アプリケーション名
**ラーメン貯金**

### コンセプト
ラーメンを我慢することで節約を実現するWebアプリケーション。
我慢した記録をワンタップで保存し、節約額を楽しく可視化することで、モチベーションを維持します。

### プラットフォーム
- Webアプリケーション（PWA対応）
- スマートフォン、タブレット、PC対応（レスポンシブデザイン必須）
- ホーム画面に追加してアプリのように使える

---

## ターゲットユーザー

### プライマリーペルソナ：田中健太さん（28歳）
- **職業**: IT企業のエンジニア
- **ライフスタイル**:
  - 仕事終わりにラーメンを週3-4回食べる習慣
  - 節約したいが、ついつい誘惑に負けてしまう
- **性格・嗜好**:
  - ゲーム的要素（達成感、レベルアップ）に弱い
  - シンプルで手軽なものを好む
  - エンターテインメント性を重視
  - 数字で成果が見えるとモチベーションが上がる
- **デバイス**: スマートフォン（Android/iPhone）、PC

---

## デザインの方向性

### 全体トーン
**エンターテインメント性重視 × 親しみやすさ**

- ✅ 楽しい、ポジティブな印象
- ✅ 達成感を感じられるデザイン
- ✅ ゲーム的な要素（数字の強調、アニメーション）
- ✅ シンプルで分かりやすい
- ❌ お堅い、説教臭い雰囲気は避ける
- ❌ 過度に派手、子供っぽすぎるのは避ける

### キーワード
- モチベーション
- 達成感
- 楽しい節約
- ご褒美感覚
- ポジティブ

### 参考イメージ
- 家計簿アプリよりもゲームアプリに近い楽しさ
- お金が貯まっていく様子が視覚的に分かる
- 「我慢」よりも「GET!」「達成!」といったポジティブな表現

---

## 必要な画面（優先順位順）

### 【必須】Phase 1: 基本骨格（最優先）

#### 1. ウェルカム画面
**目的**: 初回訪問時にアプリの目的を理解してもらう

**要件**:
- [ ] アプリの目的が一目で分かる（「ラーメンを我慢して貯金するアプリ」）
- [ ] 使い方が3ステップ以内で説明されている
- [ ] 「始める」ボタン（次の画面に進む）
- [ ] イラストやアイコンで視覚的に理解できる
- [ ] スマホ・タブレット・PCすべてで見やすい

**補足**:
- テキストは最小限
- 親しみやすいデザイン
- 1-2画面で完結

---

#### 2. ラーメン価格設定画面
**目的**: 自分がよく食べるラーメンの価格を設定

**要件**:
- [ ] デフォルト値：800円が表示されている
- [ ] 数値入力フィールド（100円〜3,000円）
- [ ] テンキー入力に対応（スマホで入力しやすい）
- [ ] 「完了」ボタン（ホーム画面に遷移）
- [ ] エラーメッセージの表示エリア
- [ ] 「後から設定画面で変更できます」という案内

**補足**:
- 簡潔な説明文：「あなたがよく食べるラーメンの価格を教えてください」

---

#### 3. ホーム画面
**目的**: アプリの中心となる画面。貯金額を確認し、我慢を記録する

**要件**:
- [ ] **総貯金額**（最も目立つ位置、大きなフォント、インパクトあり）
  - 表示形式：「¥12,800」（カンマ区切り）
  - 初回は「¥0」
- [ ] **今月の節約額**（総貯金額より小さめ、明確に区別）
  - 表示形式：「今月: ¥3,200」
- [ ] **「ラーメンを我慢した！」ボタン**
  - 最も目立つデザイン
  - 押したくなる、楽しいデザイン
  - スマホでタップしやすいサイズ（最低44x44px）
- [ ] **履歴へのリンク**（タブまたはボタン）
- [ ] **設定へのリンク**（ハンバーガーメニューまたは歯車アイコン）

**補足**:
- エンターテインメント性を最重視
- 金額が増えるほど嬉しくなる演出
- ボタンのデザインは楽しい、ポジティブな印象

---

### 【必須】Phase 2: コア体験（次優先）

#### 4. 応援メッセージ表示
**目的**: ボタンを押した後に表示され、達成感を演出

**要件**:
- [ ] ポップアップまたはモーダル形式
- [ ] 応援メッセージ（例：「今日も頑張りました！」「素晴らしい！800円GET！」）
- [ ] 今回節約した金額を表示
- [ ] 3秒程度で自動的に消える、またはタップで閉じられる
- [ ] アニメーションやエフェクト

**補足**:
- ポジティブで応援する内容
- 視覚的なフィードバック（お祝い感）

---

#### 5. 履歴一覧画面
**目的**: 過去の我慢記録を振り返る

**要件**:
- [ ] 新しい順にリスト表示
- [ ] 各項目に以下の情報:
  - 日付（例: 2025年12月1日）
  - 時刻（例: 19:30）
  - 節約額（例: ¥800）
- [ ] スクロール可能
- [ ] 記録がない場合：「まだ記録がありません」
- [ ] ホーム画面に戻るボタン

**補足**:
- シンプルなリスト形式で十分（MVPでは凝ったデザインは不要）

---

#### 6. 設定画面
**目的**: ラーメン価格を変更できる

**要件**:
- [ ] 現在のラーメン価格を表示
- [ ] 価格変更の入力フィールド（100円〜3,000円）
- [ ] 「保存」ボタン
- [ ] 成功メッセージ（「設定を更新しました」）
- [ ] エラーメッセージの表示エリア
- [ ] ホーム画面に戻るボタン

**補足**:
- シンプルで分かりやすく

---

### 【重要】PWA特有の画面・状態

#### 7. オフライン状態表示
**目的**: ネットワーク接続がない場合のUX

**要件**:
- [ ] オフライン状態インジケーター（画面上部に控えめなバナー）
- [ ] 表示テキスト：「オフライン - データは保存されています」
- [ ] 「我慢した！」ボタンはオフラインでも動作（ローカル保存）
- [ ] 最終同期時刻の表示（将来的にバックエンド連携時）
- [ ] 同期待ちのデータがある場合の表示

**補足**:
- ユーザーを不安にさせない、前向きなメッセージ
- オフライン機能は「制限」ではなく「便利な機能」として提示

---

#### 8. インストールプロンプト画面
**目的**: ユーザーにPWAのインストールを促す

**要件**:
- [ ] カスタムインストールバナー
- [ ] 表示タイミング：2-3回「我慢」を記録した後
- [ ] メッセージ：「📱 ホーム画面に追加すると、アプリのように使えます！」
- [ ] 「今すぐ追加」「後で」ボタン
- [ ] 一度「後で」を選択したら7日間は再表示しない
- [ ] iOS用の手動インストール手順画面（共有ボタン → ホーム画面に追加）

**補足**:
- 押し付けがましくない、控えめなデザイン
- 解除が簡単にできること

---

#### 9. アップデート通知
**目的**: 新しいバージョンが利用可能な場合に通知

**要件**:
- [ ] 控えめな通知バナー
- [ ] メッセージ：「✨ 新しいバージョンがあります」
- [ ] 「更新する」「後で」ボタン
- [ ] 更新中のローディング表示

**補足**:
- ユーザーの操作を妨げない
- データが失われないことを明示

---

#### 10. 応援メッセージに「取り消す」機能を追加
**目的**: 誤タップ対策

**要件**:
- [ ] 成功モーダルに「取り消す」リンクを3秒間表示
- [ ] タップすると直前の記録を削除
- [ ] 取り消し完了のフィードバック
- [ ] 3秒経過後は「取り消す」リンクが消える

**補足**:
- 控えめに配置（メインメッセージを邪魔しない）
- 取り消しは1回の記録のみ（複数記録の一括取り消しは不可）

---

### 【オプション】Phase 3: 機能強化（余裕があれば）

#### 11. 我慢回数の表示（ホーム画面に追加）
- [ ] 累計我慢回数を表示
- [ ] 表示形式：「〇〇回我慢しました！」

#### 12. 月別履歴フィルター（履歴画面に追加）
- [ ] 月選択UI（ドロップダウンまたはタブ）
- [ ] 「今月」「先月」「全期間」の選択肢

#### 13. 履歴削除機能（履歴画面に追加）
- [ ] スワイプまたは長押しで削除オプション表示
- [ ] 確認ダイアログ

#### 14. マイルストーン達成の特別演出
- [ ] 10回、50回、100回達成時の特別メッセージ
- [ ] ¥10,000、¥50,000、¥100,000達成時の特別演出
- [ ] 記念バッジやアニメーション

#### 15. 目標設定機能
- [ ] 貯金目標を設定（例：「Switch購入 ¥50,000」）
- [ ] ホーム画面に進捗バー表示
- [ ] 目標達成時の特別な祝福画面

---

## 技術的制約・要件

### レスポンシブデザイン
- **必須**: スマートフォン、タブレット、PCすべてに対応
- **ブレイクポイント**:
  - モバイル: 〜767px
  - タブレット: 768px〜1023px
  - デスクトップ: 1024px〜

### PWA対応

#### 必須アイコンサイズ
- [ ] 192x192px (Android)
- [ ] 512x512px (Android、スプラッシュスクリーン)
- [ ] 180x180px (Apple Touch Icon)
- [ ] Maskable Icon 512x512px（安全領域は中心80%）

#### 推奨追加サイズ
- [ ] 152x152px (iPad)
- [ ] 144x144px (Windows)
- [ ] 96x96px、72x72px、48x48px (各種Android)

#### PWA設定
- [ ] `manifest.json` の作成
- [ ] `theme_color`: `#F59E0B`（ゴールド）
- [ ] `background_color`: `#FFFBEB`（クリーム色）
- [ ] Service Workerの実装
- [ ] オフライン対応

#### アイコンデザインガイドライン
- シンプルで小さいサイズでも認識可能
- ラーメン碗とコイン/通貨記号の組み合わせを推奨
- ライト/ダークテーマ両方でテスト
- アイコン内にテキストを入れない（スケールしないため）

### カラーテーマ

#### 推奨パレット: "Golden Achievement"

**プライマリーカラー（ゴールド/アンバー系）**
- `--primary-gold: #F59E0B` (Amber 500) - 達成感、報酬、メイン
- `--primary-gold-light: #FCD34D` (Amber 300) - ハイライト
- `--primary-gold-dark: #D97706` (Amber 600) - 押下状態

**セカンダリーカラー（ティール系）**
- `--secondary-teal: #14B8A6` (Teal 500) - フレッシュ、ポジティブ
- `--secondary-teal-light: #5EEAD4` (Teal 300) - 背景

**アクセントカラー**
- `--accent-orange: #F97316` (Orange 500) - CTAボタン
- `--accent-pink: #EC4899` (Pink 500) - お祝いモーメント

**ニュートラルカラー**
- `--neutral-900: #18181B` (Zinc 900) - メインテキスト
- `--neutral-700: #3F3F46` (Zinc 700) - サブテキスト
- `--neutral-200: #E4E4E7` (Zinc 200) - ボーダー
- `--neutral-100: #F4F4F5` (Zinc 100) - 背景
- `--white: #FFFFFF`

**セマンティックカラー**
- `--success: #22C55E` (Green 500) - 成功メッセージ
- `--error: #EF4444` (Red 500) - エラー
- `--warning: #F59E0B` (Amber 500) - 警告

**グラデーション**
- `--gradient-success: linear-gradient(135deg, #F59E0B 0%, #F97316 100%)`
- `--gradient-background: linear-gradient(180deg, #FFFBEB 0%, #FFFFFF 100%)`

**選定理由**:
- ゴールド/アンバー: 達成感、宝物、報酬を連想
- ティール: モダン、エネルギッシュ、ポジティブ
- オレンジアクセント: 高エネルギーなCTAボタン用
- ピンクアクセント: マイルストーンのお祝い用

**アクセシビリティ注意**:
- ゴールド #F59E0B は大きなテキスト（18pt+）のみに使用
- 本文テキストは --neutral-900 または --neutral-700 を使用
- ボタンテキストは白色背景上のカラー背景に

### フォント

#### 推奨フォント: Noto Sans JP

**フォントスタック**:
```css
font-family: 'Noto Sans JP', -apple-system, BlinkMacSystemFont,
             'Segoe UI', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN',
             'Yu Gothic', YuGothic, Meiryo, sans-serif;
```

**選定理由**:
- 優れた日本語文字カバレッジ
- 複数のウェイト対応（400/500/700/900）
- Google Fonts提供（無料、オープンソース）
- Webパフォーマンス最適化済み
- モダンで読みやすい

**タイポグラフィスケール**:

| 用途 | ウェイト | サイズ | 行間 |
|------|----------|--------|------|
| **総貯金額（Display）** | 900 (Black) | 48-72px (clamp) | 1.1 |
| **見出し（H1）** | 700 (Bold) | 32-40px (clamp) | 1.2 |
| **見出し（H2）** | 700 (Bold) | 24-32px (clamp) | 1.2 |
| **本文（大）** | 400 (Regular) | 18px | 1.6 |
| **本文（標準）** | 400 (Regular) | 16px | 1.6 |
| **本文（小）** | 400 (Regular) | 14px | 1.6 |
| **ラベル** | 500 (Medium) | 14px | 1.4 |
| **ボタンテキスト** | 700 (Bold) | 18px | 1.3 |

**実装方法**:
```html
<!-- 必要なウェイトのみ読み込み（パフォーマンス優先） -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&display=swap" rel="stylesheet">
```

**特記事項**:
- 金額表示には `font-variant-numeric: tabular-nums;` を使用（レイアウトシフト防止）

---

## デリバブル（納品物）

### 形式
- Figmaデザインファイル（推奨）
- または Adobe XD、Sketch

### 必要なアートボード

**Phase 1 (最優先)**
1. ウェルカム画面（スマホ・PC）
2. ラーメン価格設定画面（スマホ・PC）
3. ホーム画面（スマホ・PC）

**Phase 2 (次優先)**
4. 応援メッセージ表示（モーダル - 通常版）
5. 応援メッセージ表示（モーダル - 取り消しリンク付き）
6. 履歴一覧画面（スマホ・PC）
7. 設定画面（スマホ・PC）

**PWA特有の画面**
8. オフライン状態表示
9. インストールプロンプト（Android）
10. インストール手順（iOS）
11. アップデート通知バナー

**エンプティ・エラー状態**
12. ホーム画面（初回 ¥0 状態）
13. 履歴画面（データなし）
14. エラーメッセージ表示

### アセット
- [ ] PWAアイコン（192x192px、512x512px、180x180px）
- [ ] Maskable Icon（512x512px）
- [ ] Appleタッチアイコン
- [ ] 必要なイラスト、アイコン（ラーメン、コイン等）
- [ ] カラーパレット定義（上記参照）
- [ ] タイポグラフィ定義（上記参照）
- [ ] デザインシステムドキュメント（コンポーネント、スペーシング等）

---

## デザインシステム・コンポーネント仕様

### スペーシングシステム
```css
--space-xs: 4px;
--space-sm: 8px;
--space-md: 16px;
--space-lg: 24px;
--space-xl: 32px;
--space-2xl: 48px;
--space-3xl: 64px;
```

### ボーダー半径
```css
--radius-sm: 4px;    /* 入力フィールド */
--radius-md: 8px;    /* カード */
--radius-lg: 16px;   /* モーダル */
--radius-xl: 24px;   /* プライマリーボタン */
--radius-full: 9999px; /* 円形要素 */
```

### シャドウ
```css
--shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
--shadow-md: 0 4px 6px rgba(0,0,0,0.1);
--shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
--shadow-xl: 0 20px 25px rgba(0,0,0,0.1);
```

### コンポーネント一覧

#### 1. ボタン
- **プライマリーボタン**（「我慢した！」用）
  - サイズ: 最低 56px 高さ（モバイル）
  - 背景: グラデーション（`--gradient-success`）
  - テキスト: 白、太字（700）
  - 状態: Default, Hover, Pressed, Disabled, Loading

- **セカンダリーボタン**（「戻る」「閉じる」用）
  - 背景: 透明またはニュートラル色
  - ボーダー: 1px solid
  - 状態: Default, Hover, Pressed, Disabled

#### 2. 入力フィールド
- **数値入力**（価格設定用）
  - 高さ: 48px
  - ボーダー: 2px
  - フォーカス時: ゴールドカラーボーダー
  - 状態: Empty, Filled, Error, Disabled

#### 3. カード
- **履歴アイテムカード**
  - パディング: `--space-md`
  - ボーダー半径: `--radius-md`
  - シャドウ: `--shadow-sm`
  - ホバー時: `--shadow-md`

#### 4. モーダル
- **成功メッセージモーダル**
  - 背景: 半透明オーバーレイ
  - コンテンツ背景: グラデーション背景
  - ボーダー半径: `--radius-lg`
  - アニメーション: スケール + フェード

#### 5. アイコン
- **ナビゲーションアイコン**: 24x24px
- **ステータスアイコン**: 16x16px
- **装飾アイコン**: 48x48px 以上

---

## モーション・アニメーション仕様

### アニメーション原則
- **パフォーマンス優先**: GPU アクセラレーション（transform、opacity のみ）
- **控えめ**: ユーザーの注意を妨げない
- **意味のある**: 視覚的フィードバックとして機能

### トランジション速度
```css
--transition-fast: 150ms;
--transition-base: 250ms;
--transition-slow: 350ms;
--transition-slower: 500ms;
```

### イージング
```css
--ease-in: cubic-bezier(0.4, 0, 1, 1);
--ease-out: cubic-bezier(0, 0, 0.2, 1);
--ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
--ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
```

### 主要アニメーション

#### 1. ボタン押下
```css
transform: scale(0.95);
transition: transform 150ms ease-out;
```

#### 2. 成功モーダル表示
- スケール: 0.8 → 1.0
- 不透明度: 0 → 1
- 時間: 350ms
- イージング: `--ease-spring`
- オプション: 紙吹雪パーティクル

#### 3. 金額カウントアップ
- 前の金額から新しい金額へ数値アニメーション
- 時間: 500ms
- イージング: `--ease-out`

#### 4. 履歴アイテム追加
- スライドイン: 右から左へ
- 時間: 250ms
- イージング: `--ease-out`

#### 5. ページ遷移
- フェードイン/フェードアウト
- 時間: 250ms
- イージング: `--ease-in-out`

### ハプティックフィードバック（モバイル）
- ボタン押下: 軽い振動（10ms）
- 成功記録: 中程度の振動（20ms）
- マイルストーン達成: 強い振動パターン

---

## アクセシビリティ仕様

### カラーコントラスト
- **大きなテキスト（18pt/24px 以上）**: 最低 3:1
- **通常テキスト**: 最低 4.5:1（WCAG AA）
- **重要な情報**: 7:1 を目指す（WCAG AAA）

### フォーカスインジケーター
```css
:focus-visible {
  outline: 3px solid #F59E0B;
  outline-offset: 2px;
}
```

### スクリーンリーダー対応
- 金額変更時のアナウンス
```html
<div role="status" aria-live="polite">
  800円節約しました！合計12,800円になりました。
</div>
```

### キーボードナビゲーション
- Tab順序: ボタン → 履歴リンク → 設定リンク
- Enter/Space でボタン起動
- Escape でモーダル閉じる

### タッチターゲットサイズ
- **モバイル**: 最低 44x44px（iOS）
- **タブレット**: 最低 48x48px（Material Design）
- **デスクトップ**: 最低 40x40px

---

## スケジュール

**希望納期**: [ここに希望日を記入]

**優先順位**:
1. Phase 1（ウェルカム、価格設定、ホーム画面）: 最優先
2. Phase 2（応援メッセージ、履歴、設定）: 次優先
3. Phase 3: 余裕があれば

---

## 参考資料

- プロジェクトドキュメント: `/aidlc-docs/inception/`
  - ペルソナ詳細: `personas.md`
  - ユーザーストーリー: `user_stories.md`
  - エピック定義: `epics.md`

---

## 要確認事項・設計判断が必要な項目

以下の項目について、プロジェクトチームでの確認・判断が必要です：

### 1. データ永続化戦略 【最優先】
**質問**: データの保存方法をどうするか？

**オプション**:
- **A. ローカルのみ (IndexedDB)**
  - ✅ オフライン即座に動作
  - ✅ 実装がシンプル
  - ❌ ブラウザデータ削除で消失
  - ❌ デバイス間同期不可

- **B. バックエンド + ローカルキャッシュ**
  - ✅ デバイス間同期可能
  - ✅ データバックアップ
  - ❌ 認証が必要
  - ❌ 実装が複雑

**推奨**: MVP（Phase 1-2）はローカルのみ、Phase 3でバックエンド追加

---

### 2. 認証の必要性
**質問**: ユーザーログインは必要か？

**オプション**:
- **A. 完全匿名**: ログイン不要、すぐに使える
- **B. オプショナル認証**: 匿名で開始、後からアカウント作成可能

**推奨**: MVP は完全匿名、Phase 3 でオプショナル認証

**デザインへの影響**:
- 匿名の場合: ログイン画面不要
- 認証ありの場合: ログイン/サインアップ画面が必要

---

### 3. デスクトップ版のレイアウト
**質問**: PC（大画面）でどう表示するか？

**オプション**:
- **A. 中央配置（max-width 600px）**: モバイルビューを中央に表示
- **B. 画面全体活用**: サイドバーや2カラムレイアウト

**推奨**: オプション A（中央配置）
- 理由: 個人的なモチベーションツールなので、親密で集中できる方が良い

---

### 4. 「今月」の定義
**質問**: 「今月の節約額」はどう計算するか？

**オプション**:
- **A. カレンダー月** (例: 12/1 〜 12/31)
- **B. 直近30日間**

**推奨**: オプション A（カレンダー月）
- 理由: 日本のユーザーにとって直感的、月初めに心機一転できる

**表示例**: 「12月の節約: ¥3,200」

---

### 5. 1日に複数回記録可能か
**質問**: 同じ日に何度も「我慢した」を記録できるか？

**オプション**:
- **A. 無制限**: いつでも何度でも記録可能
- **B. 1日の上限設定** (例: 最大5回/日)
- **C. クールダウンタイマー** (例: 30分間隔)

**推奨**: オプション A（無制限）
- 理由: 自己モチベーションツールなので、制限は不要
- 注意: ゲーミング対策が必要な場合は後で検討

---

### 6. 通貨表示フォーマット
**質問**: 金額の表示形式はどれが良いか？

**オプション**:
- **A.** `¥12,800`
- **B.** `12,800円`
- **C.** `12,800` (記号なし)

**推奨**: オプション A（`¥12,800`）
- 理由: 国際的に明確、視覚的にコンパクト
- 補足: ラベルには「円」を使用（例：「ラーメン価格: 800円」）

---

### 7. 応援メッセージのバリエーション
**質問**: 成功メッセージは何種類用意するか？

**推奨**: 最低10種類のバリエーション

**例**:
- 「素晴らしい！¥800 GET!」
- 「頑張りました！¥800 貯金成功!」
- 「やったね！¥800 セーブ!」
- 「ナイス判断！¥800 GET!」

**マイルストーン用の特別メッセージも用意**:
- 10回目: 「10回達成！素晴らしい継続力!」
- ¥10,000: 「¥10,000突破！すごい!」

---

### 8. ウェルカム画面の表示頻度
**質問**: ウェルカム画面はいつ表示するか？

**推奨**: 初回訪問時のみ
- 実装: `localStorage` で `hasSeenWelcome: true` フラグ
- 設定画面に「使い方を見る」リンクを追加（再確認用）

---

### 9. タイムゾーン処理
**質問**: 日時はどのタイムゾーンで扱うか？

**推奨**: ローカルデバイス時刻
- 理由: MVPではシンプルさを優先
- 注意: 将来バックエンド連携時に再検討

---

### 10. アクセシビリティ要件
**確認事項**:
- [ ] WCAG 2.1 AA準拠を目指すか？
- [ ] スクリーンリーダー対応は必須か？
- [ ] キーボードナビゲーション対応は必須か？

**推奨**: 基本的なアクセシビリティは実装
- カラーコントラスト比の確保
- フォーカスインジケーター
- 適切な `aria-label` と `role` 属性

---

## その他の要望・質問

[ここに追加の要望や質問があれば記入]
